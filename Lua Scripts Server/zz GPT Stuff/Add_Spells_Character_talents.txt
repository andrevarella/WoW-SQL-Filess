
    -- Apply Stored Talents - Slot 1
	if intid == 600 then
		player:SaveToDB()
		
		local level = player:GetLevel()
		local requiredTalentPoints = level - 9

		if level >= 10 and player:GetFreeTalentPoints() < requiredTalentPoints then -- Needs to Not have talents unspent
			player:SendBroadcastMessage("Você precisa resetar os talentos para usar essa opção.")
			player:GossipComplete()
			return
		else
			local guid = player:GetGUIDLow()

			local result = CharDBQuery("SELECT spell FROM custom_saved_talents WHERE guid = "..guid.." AND talentSlot = 10")
			if result then
				repeat
					local spell = result:GetUInt32(0)
					local existingResult = CharDBQuery("SELECT specMask FROM character_talent WHERE guid = "..guid.." AND spell = "..spell)
					if existingResult then
						local specMask = existingResult:GetUInt32(0)
						if specMask == 1 or specMask == 2 then
							CharDBExecute("UPDATE character_talent SET specMask = 3 WHERE guid = "..guid.." AND spell = "..spell)
						end
					else
						CharDBExecute("INSERT INTO character_talent (guid, spell, specMask) VALUES ("..guid..", "..spell..", 1)")
					end
				until not result:NextRow()
			end
			player:LogoutPlayer(true)
		end
	end